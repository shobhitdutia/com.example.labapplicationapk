package com.example.labapplicationapk;
import java.awt.BorderLayout;
import java.awt.Component;
import java.awt.Container;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Vector;

import javax.swing.Box;
import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;


public class ViewAddRemoveMalware extends JFrame {
	static ViewAddRemoveMalware frame1;
	private static JTextField pathNameTextField;
	int textBoxNumber=0;
    private Box vBox;
    private Box hBox;
    private JButton btnAdd;
    private static Vector<JTextField> textFieldVector=new Vector<JTextField>();
    private static JFileChooser openFile;
	public ViewAddRemoveMalware(String title) {
		super(title);
	}
	public ViewAddRemoveMalware() {
	}
	public void showAddMalwareList() {
		frame1 = new ViewAddRemoveMalware("ADD Malware");
        frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame1.addComponentsToAddFrame(frame1.getContentPane());
        frame1.setLocationRelativeTo(null);
        frame1.setResizable(false);
        frame1.pack();
        frame1.setVisible(true);
	}
	public void showRemoveMalwareList() {
		frame1 = new ViewAddRemoveMalware("REMOVE Malware");
        frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame1.addComponentsToRemoveFrame(frame1.getContentPane());
        frame1.setLocationRelativeTo(null);
        frame1.setResizable(false);
        frame1.pack();
        frame1.setVisible(true);
	}
	
	
	private void addComponentsToRemoveFrame(Container contentPane) {
		final JPanel labelPanel = new JPanel();
		labelPanel.setLayout(new GridLayout(1,2));
		labelPanel.add(new JLabel("User name"));
		labelPanel.add(new JLabel("UserID"));
		
		vBox = Box.createVerticalBox(); 
		btnAdd = new JButton("Add user to delete");
		JButton buttonBack = new JButton("Back");
		buttonBack.addActionListener(new ControllerServer());
		JButton buttonDone = new JButton("Done deleting");
		buttonDone.addActionListener(new ControllerServer());
        btnAdd.addActionListener(new ActionListener(){
        
            @Override
            public void actionPerformed(ActionEvent e)
            {
            	System.out.println("Called");
            	textFieldVector.add(new JTextField());
        		textFieldVector.add(new JTextField());
        		hBox=Box.createHorizontalBox();
        		hBox.add(textFieldVector.get(textBoxNumber));
        		hBox.add(textFieldVector.get(textBoxNumber+1));
        		textBoxNumber+=2;
        		vBox.add(hBox);
        		pack();
            }

        });
       
		
        //ButtonPanel
        final JPanel buttonPanel=new JPanel();
        buttonPanel.add(btnAdd);
        buttonPanel.add(buttonDone);
        buttonPanel.add(buttonBack);
       
        //adding everything to container
        contentPane.add(labelPanel, BorderLayout.NORTH);
        contentPane.add(vBox, BorderLayout.CENTER);
        contentPane.add(buttonPanel, BorderLayout.SOUTH);

	}
	private void addComponentsToAddFrame(Container contentPane) {
		pathNameTextField=new JTextField();
		final JPanel malwarePathPanel = new JPanel();
		malwarePathPanel.setLayout(new GridLayout(1,1));
		malwarePathPanel.add(pathNameTextField);
		JButton btnBrowse=new JButton("Browse");
		malwarePathPanel.add(btnBrowse);
		btnBrowse.addActionListener(new ActionListener(){
            @Override
            public void actionPerformed(ActionEvent e)
            {
            	System.out.println(e.getSource());
        		openFile = new JFileChooser();	
         		openFile.showOpenDialog(null);
        		pathNameTextField.setText(openFile.getSelectedFile().getAbsolutePath());
            }

        });
		//vBox = Box.createVerticalBox(); 
		//btnAdd = new JButton("Add new user");
		JButton buttonBack = new JButton("Back to main");
		buttonBack.addActionListener(new ControllerServer());
		JButton buttonDone = new JButton("Done adding malware");
		buttonDone.addActionListener(new ControllerServer());
		
        //ButtonPanel
        final JPanel buttonPanel=new JPanel();
        buttonPanel.add(buttonDone);
        buttonPanel.add(buttonBack);
       
        //adding everything to container
        contentPane.add(new JLabel("Malware name"), BorderLayout.NORTH);
        contentPane.add(malwarePathPanel, BorderLayout.CENTER);
        contentPane.add(buttonPanel, BorderLayout.SOUTH);

	}
	
	public static JTextField getMalwareTextField() {
		return pathNameTextField;
	}
	/*public static JFileChooser getFileChooserObject() {
		return openFile;
	}*/
}
